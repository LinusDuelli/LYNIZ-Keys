<!doctype html>
<html lang="de">
  <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<link rel="apple-touch-icon" href="icon-192.png">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LYNIZ Keys</title>

  <link rel="manifest" href="./manifest.json" />
  <meta name="theme-color" content="#000000" />
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(console.error);
    }
  </script>
</head>
<body>
  <h1>Hallo ðŸ‘‹</h1>
  <p id="status">App ist bereit âœ…</p>
  <div id="app"></div>

  <!-- AAAKeys laden (Cache-Buster !) -->
  <script src="./AAAKeys.js?v=3" defer></script>

  <!-- Robust warten, bis AAAKeys initApp anbietet -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const root = document.getElementById('app');
      const status = document.getElementById('status');

      let tries = 0;
      const timer = setInterval(() => {
        if (typeof window.initApp === 'function') {
          clearInterval(timer);
          status.textContent = 'Starte Appâ€¦';
          try { window.initApp(root); }
          catch (e) { status.textContent = 'Fehler beim Start: ' + e.message; }
        } else if (++tries > 50) { // ~5 Sekunden
          clearInterval(timer);
          status.textContent = 'Konnte initApp() nicht finden.';
          root.innerHTML = '<p>AAAKeys.js lÃ¤dt nicht oder definiert initApp nicht.</p>';
        }
      }, 100);
    });
  </script>
</body>
  <div id="app"></div>

  <!-- AAAKeys laden -->
  <script src="./AAAKeys.js" defer></script>

  <!-- Ruft initApp auf, wenn dein Script sie definiert -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const root = document.getElementById('app');
      if (window.initApp) {
        window.initApp(root);
      } else {
        root.innerHTML = '<p>App geladen, warte auf initApp()â€¦</p>';
      }
    });
  </script>
</body>
</html>



